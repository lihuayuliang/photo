## 本日学习任务：学习数据库命名规范。

### 学习内容：

**1.基本命名规范：**数据库对象名称一律使用大写字母，命名用英文词汇组合并用下划线分隔词汇，对象名称过长缩写英文词汇。

**2.模板命名规范：**按照模板规范数据库对象，便于管理和维护。

模板类型组合顺序优先级规则1：基本类型 > 扩展类型1 > 扩展类型2 ；

模板类型组合顺序优先级规则2：ERR > F > H ；

| **类型分类** | **常用模板类型** | **说明**    | **示例**                   |
| ------------ | ---------------- | ----------- | -------------------------- |
| 基本类型     | ERR              | 定义错误表  |                            |
|              | F                | 竣工表      |                            |
|              | H                | 定义历史表2 | 推荐                       |
|              | HIS              | 定义历史表1 | 不推荐                     |
| 扩展类型1    | NNN              | 地市编号    |                            |
| 扩展类型2    | DD               | 日          | 31号为：31                 |
|              | MM               | 月份        | 12月为：12                 |
|              | YYYY             | 长年份      | 2012年为：2012             |
|              | YY               | 短年份      | 2012年为：12；不推荐       |
|              | YYYYMM           | 长年月      | 2012年12月为：201212       |
|              | YYMM             | 短年月      | 2012年12月为：1212；不推荐 |
|              | YYYYMMDD         | 长年月日    | 2012年12月31日为：20121231 |
|              | YYMMDD           | 短年月日    | 2012年12月31日为：121231   |

**3.模块命名规范**

| **模块英文缩写** | **业务模块类别** | **模块名称**           |
| ---------------- | ---------------- | ---------------------- |
| INS              | 订购实例         | 营业实例               |
| ORD              | 订购实例         | 营业订单               |
| INSX             | 订购实例         | 营业实例扩展           |
| ORDX             | 订购实例         | 营业订单扩展           |
| CM               | 客户管理         | 客户管理               |
| AM               | 综合帐务         | 综合帐务               |
| CFG              | 平台管理         | 平台配置               |
| BS               | 配置管理         | 基础公共配置(除平台)   |
| BCE              | 框架管理         | 订单受理框架配置数据   |
| PCE              | 框架管理         | 产品框架配置数据       |
| SEC              | 权限管理         | 权限管理               |
| RES              | 资源管理         | 营销资源               |
| UP               | 产品管理         | 产品                   |
| SC               | 积分管理         | 积分管理               |
| RP               | 报表管理         | 报表                   |
| CHNL             | 渠道管理         | 渠道管理               |
| I                | 接口管理         | 接口（开通接口I_OPEN） |
| SMS              | 短信相关         |                        |
| ACC              | 营业管理         | 帐务管理               |
| BOSS             | 综合帐务         | 帐务处理               |
| OWE              | 综合帐务         | 欠费管理               |
| RTA              | 综合帐务         | 实时帐务               |

**4.实体表命名概念**

基表：是指从模板表中截去本章节《常用模板规范》中定义的扩展模板类型及扩展模板类型组合后的表名。

模板表与基表的关系是：模板表 = <基表>_<扩展模板类型>。

分表：是从基表衍生出来的实体表，是一个实例化的模板表。

| **基表**   | **模板表**            | **分表**                | **模板类型** |
| ---------- | --------------------- | ----------------------- | ------------ |
| INS_USER   | INS_USER_NNN          | INS_USER_571            | NNN          |
| INS_USER_H | INS_USER_H_NNN_YYYYMM | INSER_USER_H_571_201201 | NNN_YYYYMM   |
| ORD_CUST   | ORD_CUST_NNN          | ORD_CUST_571            | NNN          |
| ORD_CUST_H | ORD_CUST_H_NNN_YYYYMM | ORD_CUST_H_571_201201   | NNN_YYYYMM   |
| ORD_CUST_F | ORD_CUST_F_NNN_YYYYMM | ORD_CUST_F_571_201201   | NNN_YYYYMM   |

实体表命名规则：<业务模块>_<表英文名> [<模板命名>]

**5.表分区命名规范**

分区表的分区命名以P开头，按照采用的分区方式进行命名：

- 范围分区：根椐分区键的不同取值范围来划分子集
- 列表分区：根据分区键的一些离散的取值来划分子集
- 哈希分区：通过哈希算法将分区键对应到某个子集中，数据均匀分布在所有分区中
- 复合分区：采用多种分区方式组合的方式进行分区，目前支持根据范围先进行分区，再使用哈希或列表方式创建子分区

**6.字段命名规范**

字段名最好以实体属性的（英文）全称命名，如名称太长可以简写。

1. 编码类 字段以 _ID 作为后缀
2. 日期类 字段以 _DATE 作为后缀
3. 标志类 字段以 _FLAG 作为后缀
4. 状态类 字段以 _STATE 作为后缀，除了数据状态用STATE外，其它字段建议加上有意义的字段描述
5. 类别类 字段以 _TYPE 作为后缀
6. 名称类 字段以 _NAME 作为后缀

**7.索引命名规范**

命名规则：<索引类型简称>_<表英文名或简称>[_<模板命名>][_<索引序号>]

| **索引类型** | **索引类型简称** |
| ------------ | :--------------- |
| 主键索引     | PK               |
| 唯一性索引   | UK               |
| 普通索引     | IDX              |

**8.约束命名规范**

命名规则：<约束类型简称>_<表英文名或简称>[_<约束序号>]

| 约束类型 | **约束类型简称** |
| -------- | ---------------- |
| 主键约束 | PK               |
| 外键约束 | FK               |

**9.序列命名规范**

命名规则：<基表英文名>$SEQ
